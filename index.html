<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>‚òï April‚Äôs Hot Drink Delivery Service</title>

  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: linear-gradient(180deg, #f6f1eb, #efe7dd);
      padding: 16px;
      margin: 0;
    }

    .card {
      max-width: 420px;
      margin: auto;
      background: #ffffff;
      border-radius: 20px;
      padding: 24px;
      box-shadow: 0 15px 30px rgba(0,0,0,0.12);
      text-align: center;
    }

    h1 { margin-bottom: 8px; }
    .subtitle { color: #777; margin-bottom: 24px; font-size: 14px; }

    label {
      display: block;
      margin-top: 16px;
      font-weight: 600;
      font-size: 15px;
      text-align: left;
    }

    select, textarea {
      width: 100%;
      margin-top: 6px;
      padding: 14px;
      border-radius: 14px;
      border: 1px solid #ddd;
      font-size: 16px;
      background: #fafafa;
      box-sizing: border-box;
    }

    textarea { resize: none; height: 90px; }

    button {
      width: 100%;
      margin-top: 26px;
      padding: 16px;
      border-radius: 16px;
      border: none;
      font-size: 18px;
      font-weight: 600;
      background: #6f4e37;
      color: white;
      cursor: pointer;
    }

    .hidden { display: none; }

    .success { padding: 32px 16px; text-align: center; }
    .timer { font-size: 18px; margin-top: 12px; font-weight: 600; }
    .hint { font-size: 13px; color: #888; margin-top: 4px; text-align: left; }
  </style>
</head>

<body>
  <div class="card">

    <h1>‚òï April‚Äôs Hot Drink Delivery Service</h1>
    <div class="subtitle">Tea ‚Ä¢ Coffee ‚Ä¢ One very dedicated husband</div>

    <form id="drinkForm" action="https://formspree.io/f/abcdwxyz" method="POST">

      <label>What would you like?</label>
      <select id="drinkType" name="drink_type" required>
        <option value="">Choose‚Ä¶</option>
        <option value="Coffee">Coffee ‚òï</option>
        <option value="Tea">Tea üçµ</option>
      </select>

      <!-- Coffee options -->
      <div id="coffeeOptions" class="hidden">

        <label>Coffee Type</label>
        <select id="coffeeType" name="coffee_type">
          <option value="Regular">Regular</option>
          <option value="Extra Frothy">Extra Frothy ‚òÅÔ∏è</option>
        </select>

        <div id="shotsContainer" class="hidden">
          <label>Caffeine Shots</label>
          <select id="shots" name="shots">
            <option value="No Shot">No Shot</option>
            <option value="Single Shot">Single Shot</option>
            <option value="Double Shot">Double Shot</option>
          </select>
          <div class="hint">Double shot only available with Extra Frothy ‚òï</div>
        </div>

        <div id="sizeContainer" class="hidden">
          <label>Size</label>
          <select name="size">
            <option value="Regular">Regular</option>
            <option value="Large">Large</option>
          </select>
        </div>
      </div>

      <!-- Tea options -->
      <div id="teaOptions" class="hidden">
        <label>Sugar?</label>
        <select name="sugar">
          <option value="No">No</option>
          <option value="Yes">Yes</option>
        </select>
      </div>

      <!-- Extras -->
      <label id="extrasLabel" class="hidden">Extras</label>
      <textarea id="extrasBox" name="extras" class="hidden" placeholder=""></textarea>

      <button type="submit">Place Order ‚òïüçµ</button>
    </form>

    <div id="successMessage" class="success hidden">
      <h2 id="successTitle">Order Pending Approval</h2>
      <p id="successText">Currently under review by the husband.</p>
      <div id="timerText" class="timer">Estimated approval time: 2:00</div>
    </div>

  </div>

  <script>
    const drinkType = document.getElementById("drinkType");
    const coffeeOptions = document.getElementById("coffeeOptions");
    const teaOptions = document.getElementById("teaOptions");
    const coffeeType = document.getElementById("coffeeType");
    const shots = document.getElementById("shots");
    const shotsContainer = document.getElementById("shotsContainer");
    const sizeContainer = document.getElementById("sizeContainer");
    const form = document.getElementById("drinkForm");
    const extrasBox = document.getElementById("extrasBox");
    const extrasLabel = document.getElementById("extrasLabel");

    const successMessage = document.getElementById("successMessage");
    const successTitle = document.getElementById("successTitle");
    const successText = document.getElementById("successText");
    const timerText = document.getElementById("timerText");

    // Show/hide options based on drink type
    drinkType.addEventListener("change", () => {
      const isCoffee = drinkType.value === "Coffee";
      const isTea = drinkType.value === "Tea";

      coffeeOptions.classList.toggle("hidden", !isCoffee);
      teaOptions.classList.toggle("hidden", !isTea);

      if (isCoffee || isTea) {
        extrasLabel.classList.remove("hidden");
        extrasBox.classList.remove("hidden");
        extrasBox.placeholder = isCoffee
          ? "Any extras? Syrups, chocolate sprinkles, cinnamon, whipped cream‚Ä¶ üç´‚ú®"
          : "Any extras? Biscuits, lemon, honey, extra milk‚Ä¶ üç™üçã";
      } else {
        extrasLabel.classList.add("hidden");
        extrasBox.classList.add("hidden");
      }

      // Show shots container if coffee
      shotsContainer.classList.remove("hidden");
      updateShotsOptions();
    });

    // Coffee-specific logic
    coffeeType.addEventListener("change", updateShotsOptions);

    function updateShotsOptions() {
      const isExtraFrothy = coffeeType.value === "Extra Frothy";
      sizeContainer.classList.toggle("hidden", !isExtraFrothy);

      const doubleShot = [...shots.options].find(o => o.value === "Double Shot");
      doubleShot.disabled = !isExtraFrothy;

      if (!isExtraFrothy && shots.value === "Double Shot") {
        shots.value = "Single Shot";
      }
    }

    // Fake approval timer
    function startApprovalTimer(seconds, drink) {
      let remaining = seconds;

      const interval = setInterval(() => {
        const mins = Math.floor(remaining / 60);
        const secs = remaining % 60;

        timerText.textContent =
          `Estimated approval time: ${mins}:${secs.toString().padStart(2, "0")}`;

        remaining--;

        if (remaining < 0) {
          clearInterval(interval);
          successTitle.textContent = "‚úÖ Order Approved";
          successText.textContent =
            drink === "Tea"
              ? "Tea is steeping üçµüí®"
              : "Coffee preparation has begun ‚òïüí®";
          timerText.remove();
        }
      }, 1000);
    }

    // Form submission
    form.addEventListener("submit", e => {
      e.preventDefault();
      const chosenDrink = drinkType.value;

      fetch(form.action, {
        method: "POST",
        body: new FormData(form),
        headers: { Accept: "application/json" }
      }).then(() => {
        form.classList.add("hidden");
        successMessage.classList.remove("hidden");
        startApprovalTimer(120, chosenDrink);
      });
    });
  </script>
</body>
</html>
